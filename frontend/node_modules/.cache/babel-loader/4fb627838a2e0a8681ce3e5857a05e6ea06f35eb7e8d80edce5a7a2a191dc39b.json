{"ast":null,"code":"import React from\"react\";import{Table,Button}from\"react-bootstrap\";import{useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import{useDeleteProductMutation}from\"../services/appApi\";import\"./DashboardProducts.css\";import Pagination from\"./Pagination\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DashboardProducts(){const products=useSelector(state=>state.products);const user=useSelector(state=>state.user);// removing the product\nconst[deletProduct,{isLoading,isSuccess}]=useDeleteProductMutation();function handleDeleteProduct(id){// logic here\nif(window.confirm(\"Are you sure?\"))deletProduct({product_id:id,user_id:user._id});}function TableRow(_ref){let{pictures,_id,name,price}=_ref;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:pictures[0].url,className:\"dashboard-product-preview\"})}),/*#__PURE__*/_jsx(\"td\",{children:_id}),/*#__PURE__*/_jsx(\"td\",{children:name}),/*#__PURE__*/_jsx(\"td\",{children:price}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>handleDeleteProduct(_id,user._id),disabled:isLoading,children:\"Delete\"}),/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(_id,\"/edit\"),className:\"btn btn-warning\",children:\"Edit\"})]})]});}return/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"Product ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product Price\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(Pagination,{data:products,RenderComponent:TableRow,pageLimit:1,dataLimit:5,tablePagination:true})})]});}export default DashboardProducts;","map":{"version":3,"names":["React","Table","Button","useSelector","Link","useDeleteProductMutation","Pagination","jsx","_jsx","jsxs","_jsxs","DashboardProducts","products","state","user","deletProduct","isLoading","isSuccess","handleDeleteProduct","id","window","confirm","product_id","user_id","_id","TableRow","_ref","pictures","name","price","children","src","url","className","onClick","disabled","to","concat","striped","bordered","hover","responsive","data","RenderComponent","pageLimit","dataLimit","tablePagination"],"sources":["C:/Users/91637/OneDrive/Desktop/E-commerce/frontend/src/components/DashboardProducts.js"],"sourcesContent":["import React from \"react\";\r\nimport { Table, Button } from \"react-bootstrap\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDeleteProductMutation } from \"../services/appApi\";\r\nimport \"./DashboardProducts.css\";\r\nimport Pagination from \"./Pagination\";\r\n\r\nfunction DashboardProducts() {\r\n    const products = useSelector((state) => state.products);\r\n    const user = useSelector((state) => state.user);\r\n    // removing the product\r\n    const [deletProduct, { isLoading, isSuccess }] = useDeleteProductMutation();\r\n    function handleDeleteProduct(id) {\r\n        // logic here\r\n        if (window.confirm(\"Are you sure?\")) deletProduct({ product_id: id, user_id: user._id });\r\n    }\r\n\r\n    function TableRow({ pictures, _id, name, price }) {\r\n        return (\r\n            <tr>\r\n                <td>\r\n                    <img src={pictures[0].url} className=\"dashboard-product-preview\" />\r\n                </td>\r\n                <td>{_id}</td>\r\n                <td>{name}</td>\r\n                <td>{price}</td>\r\n                <td>\r\n                    <Button onClick={() => handleDeleteProduct(_id, user._id)} disabled={isLoading}>\r\n                        Delete\r\n                    </Button>\r\n                    <Link to={`/product/${_id}/edit`} className=\"btn btn-warning\">\r\n                        Edit\r\n                    </Link>\r\n                </td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Table striped bordered hover responsive>\r\n            <thead>\r\n                <tr>\r\n                    <th></th>\r\n                    <th>Product ID</th>\r\n                    <th>Product Name</th>\r\n                    <th>Product Price</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <Pagination data={products} RenderComponent={TableRow} pageLimit={1} dataLimit={5} tablePagination={true} />\r\n            </tbody>\r\n        </Table>\r\n    );\r\n}\r\n\r\nexport default DashboardProducts;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,KAAK,CAAEC,MAAM,KAAQ,iBAAiB,CAC/C,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,wBAAwB,KAAQ,oBAAoB,CAC7D,MAAO,yBAAyB,CAChC,MAAO,CAAAC,UAAU,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtC,QAAS,CAAAC,iBAAiBA,CAAA,CAAG,CACzB,KAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAEU,KAAK,EAAKA,KAAK,CAACD,QAAQ,CAAC,CACvD,KAAM,CAAAE,IAAI,CAAGX,WAAW,CAAEU,KAAK,EAAKA,KAAK,CAACC,IAAI,CAAC,CAC/C;AACA,KAAM,CAACC,YAAY,CAAE,CAAEC,SAAS,CAAEC,SAAU,CAAC,CAAC,CAAGZ,wBAAwB,CAAC,CAAC,CAC3E,QAAS,CAAAa,mBAAmBA,CAACC,EAAE,CAAE,CAC7B;AACA,GAAIC,MAAM,CAACC,OAAO,CAAC,eAAe,CAAC,CAAEN,YAAY,CAAC,CAAEO,UAAU,CAAEH,EAAE,CAAEI,OAAO,CAAET,IAAI,CAACU,GAAI,CAAC,CAAC,CAC5F,CAEA,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAiC,IAAhC,CAAEC,QAAQ,CAAEH,GAAG,CAAEI,IAAI,CAAEC,KAAM,CAAC,CAAAH,IAAA,CAC5C,mBACIhB,KAAA,OAAAoB,QAAA,eACItB,IAAA,OAAAsB,QAAA,cACItB,IAAA,QAAKuB,GAAG,CAAEJ,QAAQ,CAAC,CAAC,CAAC,CAACK,GAAI,CAACC,SAAS,CAAC,2BAA2B,CAAE,CAAC,CACnE,CAAC,cACLzB,IAAA,OAAAsB,QAAA,CAAKN,GAAG,CAAK,CAAC,cACdhB,IAAA,OAAAsB,QAAA,CAAKF,IAAI,CAAK,CAAC,cACfpB,IAAA,OAAAsB,QAAA,CAAKD,KAAK,CAAK,CAAC,cAChBnB,KAAA,OAAAoB,QAAA,eACItB,IAAA,CAACN,MAAM,EAACgC,OAAO,CAAEA,CAAA,GAAMhB,mBAAmB,CAACM,GAAG,CAAEV,IAAI,CAACU,GAAG,CAAE,CAACW,QAAQ,CAAEnB,SAAU,CAAAc,QAAA,CAAC,QAEhF,CAAQ,CAAC,cACTtB,IAAA,CAACJ,IAAI,EAACgC,EAAE,aAAAC,MAAA,CAAcb,GAAG,SAAQ,CAACS,SAAS,CAAC,iBAAiB,CAAAH,QAAA,CAAC,MAE9D,CAAM,CAAC,EACP,CAAC,EACL,CAAC,CAEb,CAEA,mBACIpB,KAAA,CAACT,KAAK,EAACqC,OAAO,MAACC,QAAQ,MAACC,KAAK,MAACC,UAAU,MAAAX,QAAA,eACpCtB,IAAA,UAAAsB,QAAA,cACIpB,KAAA,OAAAoB,QAAA,eACItB,IAAA,QAAQ,CAAC,cACTA,IAAA,OAAAsB,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBtB,IAAA,OAAAsB,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBtB,IAAA,OAAAsB,QAAA,CAAI,eAAa,CAAI,CAAC,EACtB,CAAC,CACF,CAAC,cACRtB,IAAA,UAAAsB,QAAA,cACItB,IAAA,CAACF,UAAU,EAACoC,IAAI,CAAE9B,QAAS,CAAC+B,eAAe,CAAElB,QAAS,CAACmB,SAAS,CAAE,CAAE,CAACC,SAAS,CAAE,CAAE,CAACC,eAAe,CAAE,IAAK,CAAE,CAAC,CACzG,CAAC,EACL,CAAC,CAEhB,CAEA,cAAe,CAAAnC,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}