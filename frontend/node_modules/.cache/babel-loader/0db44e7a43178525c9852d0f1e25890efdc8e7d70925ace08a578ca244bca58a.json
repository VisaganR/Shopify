{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Badge,Container,Table}from\"react-bootstrap\";import{useSelector}from\"react-redux\";import axios from\"../axios\";import Loading from\"../components/Loading\";import\"./OrdersPage.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function OrdersPage(){const user=useSelector(state=>state.user);const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{setLoading(true);axios.get(\"/users/\".concat(user._id,\"/orders\")).then(_ref=>{let{data}=_ref;setLoading(false);setOrders(data);}).catch(e=>{setLoading(false);console.log(e);});},[]);if(loading){return/*#__PURE__*/_jsx(Loading,{});}if(orders.length===0){return/*#__PURE__*/_jsx(\"h1\",{className:\"text-center pt-3\",children:\"No orders yet\"});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Your orders\"}),/*#__PURE__*/_jsxs(Table,{responsive:true,striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(order=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:\"\".concat(order.status==\"processing\"?\"warning\":\"success\"),text:\"white\",children:order.status})}),/*#__PURE__*/_jsx(\"td\",{children:order.date}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",order.total]})]}))})]})]});}export default OrdersPage;","map":{"version":3,"names":["React","useEffect","useState","Badge","Container","Table","useSelector","axios","Loading","jsx","_jsx","jsxs","_jsxs","OrdersPage","user","state","orders","setOrders","loading","setLoading","get","concat","_id","then","_ref","data","catch","e","console","log","length","className","children","responsive","striped","bordered","hover","map","order","bg","status","text","date","total"],"sources":["C:/Users/91637/OneDrive/Desktop/E-commerce/frontend/src/pages/OrdersPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Badge, Container, Table } from \"react-bootstrap\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axios from \"../axios\";\r\nimport Loading from \"../components/Loading\";\r\nimport \"./OrdersPage.css\";\r\n\r\nfunction OrdersPage() {\r\n    const user = useSelector((state) => state.user);\r\n    const [orders, setOrders] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        axios\r\n            .get(`/users/${user._id}/orders`)\r\n            .then(({ data }) => {\r\n                setLoading(false);\r\n                setOrders(data);\r\n            })\r\n            .catch((e) => {\r\n                setLoading(false);\r\n                console.log(e);\r\n            });\r\n    }, []);\r\n\r\n    if (loading) {\r\n        return <Loading />;\r\n    }\r\n\r\n    if (orders.length === 0) {\r\n        return <h1 className=\"text-center pt-3\">No orders yet</h1>;\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <h1 className=\"text-center\">Your orders</h1>\r\n            <Table responsive striped bordered hover>\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>Status</th>\r\n                        <th>Date</th>\r\n                        <th>Total</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {orders.map((order) => (\r\n                        <tr>\r\n                            <td>{order._id}</td>\r\n                            <td>\r\n                                <Badge bg={`${order.status == \"processing\" ? \"warning\" : \"success\"}`} text=\"white\">\r\n                                    {order.status}\r\n                                </Badge>\r\n                            </td>\r\n                            <td>{order.date}</td>\r\n\r\n                            <td>${order.total}</td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </Table>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default OrdersPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}