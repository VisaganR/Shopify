{"ast":null,"code":"import axios from\"../axios\";import React,{useEffect,useState}from\"react\";import{Col,Container,Row}from\"react-bootstrap\";import{useParams}from\"react-router-dom\";import Loading from\"../components/Loading\";import ProductPreview from\"../components/ProductPreview\";import\"./CategoryPage.css\";import Pagination from\"../components/Pagination\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CategoryPage(){const{category}=useParams();const[loading,setLoading]=useState(false);const[products,setProducts]=useState([]);const[searchTerm,setSearchTerm]=useState(\"\");useEffect(()=>{setLoading(true);axios.get(\"/products/category/\".concat(category)).then(_ref=>{let{data}=_ref;setLoading(false);setProducts(data);}).catch(e=>{setLoading(false);console.log(e.message);});},[category]);if(loading){/*#__PURE__*/_jsx(Loading,{});}const productsSearch=products.filter(product=>product.name.toLowerCase().includes(searchTerm.toLowerCase()));function ProductSearch(_ref2){let{_id,category,name,pictures}=_ref2;return/*#__PURE__*/_jsx(ProductPreview,{_id:_id,category:category,name:name,pictures:pictures});}return/*#__PURE__*/_jsxs(\"div\",{className:\"category-page-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pt-3 \".concat(category,\"-banner-container category-banner-container\"),children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:category.charAt(0).toUpperCase()+category.slice(1)})}),/*#__PURE__*/_jsx(\"div\",{className:\"filters-container d-flex justify-content-center pt-4 pb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Search\",onChange:e=>setSearchTerm(e.target.value)})}),productsSearch.length===0?/*#__PURE__*/_jsx(\"h1\",{children:\"No products to show\"}):/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:{span:10,offset:1},children:/*#__PURE__*/_jsx(Pagination,{data:productsSearch,RenderComponent:ProductSearch,pageLimit:1,dataLimit:5,tablePagination:false})})})})]});}export default CategoryPage;","map":{"version":3,"names":["axios","React","useEffect","useState","Col","Container","Row","useParams","Loading","ProductPreview","Pagination","jsx","_jsx","jsxs","_jsxs","CategoryPage","category","loading","setLoading","products","setProducts","searchTerm","setSearchTerm","get","concat","then","_ref","data","catch","e","console","log","message","productsSearch","filter","product","name","toLowerCase","includes","ProductSearch","_ref2","_id","pictures","className","children","charAt","toUpperCase","slice","type","placeholder","onChange","target","value","length","md","span","offset","RenderComponent","pageLimit","dataLimit","tablePagination"],"sources":["C:/Users/91637/OneDrive/Desktop/E-commerce/frontend/src/pages/CategoryPage.js"],"sourcesContent":["import axios from \"../axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Col, Container, Row } from \"react-bootstrap\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Loading from \"../components/Loading\";\r\nimport ProductPreview from \"../components/ProductPreview\";\r\nimport \"./CategoryPage.css\";\r\nimport Pagination from \"../components/Pagination\";\r\nfunction CategoryPage() {\r\n    const { category } = useParams();\r\n    const [loading, setLoading] = useState(false);\r\n    const [products, setProducts] = useState([]);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        axios\r\n            .get(`/products/category/${category}`)\r\n            .then(({ data }) => {\r\n                setLoading(false);\r\n                setProducts(data);\r\n            })\r\n            .catch((e) => {\r\n                setLoading(false);\r\n                console.log(e.message);\r\n            });\r\n    }, [category]);\r\n\r\n    if (loading) {\r\n        <Loading />;\r\n    }\r\n\r\n    const productsSearch = products.filter((product) => product.name.toLowerCase().includes(searchTerm.toLowerCase()));\r\n\r\n    function ProductSearch({ _id, category, name, pictures }) {\r\n        return <ProductPreview _id={_id} category={category} name={name} pictures={pictures} />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"category-page-container\">\r\n            <div className={`pt-3 ${category}-banner-container category-banner-container`}>\r\n                <h1 className=\"text-center\">{category.charAt(0).toUpperCase() + category.slice(1)}</h1>\r\n            </div>\r\n            <div className=\"filters-container d-flex justify-content-center pt-4 pb-4\">\r\n                <input type=\"search\" placeholder=\"Search\" onChange={(e) => setSearchTerm(e.target.value)} />\r\n            </div>\r\n            {productsSearch.length === 0 ? (\r\n                <h1>No products to show</h1>\r\n            ) : (\r\n                <Container>\r\n                    <Row>\r\n                        <Col md={{ span: 10, offset: 1 }}>\r\n                            <Pagination data={productsSearch} RenderComponent={ProductSearch} pageLimit={1} dataLimit={5} tablePagination={false} />\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CategoryPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}